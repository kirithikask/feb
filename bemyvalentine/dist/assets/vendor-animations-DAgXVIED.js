import{a as e,i as t,t as n}from"./rolldown-runtime-Cn8xt2Gj.js";import{$ as r,A as i,B as a,C as o,D as s,E as c,F as l,G as u,H as d,I as f,J as p,K as m,L as h,M as g,N as _,O as v,P as y,Q as b,R as x,S,T as C,U as w,V as T,W as E,X as D,Y as O,Z as k,_ as A,a as j,b as ee,c as M,d as N,et as te,f as P,g as ne,h as re,i as ie,j as ae,k as oe,l as se,m as ce,n as le,o as F,p as ue,q as I,r as de,s as L,t as fe,tt as pe,u as me,v as he,w as ge,x as R,y as _e,z as ve}from"./vendor-ky9Mozae.js";var ye=n((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function ee(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function M(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,M(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),M(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=M(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=M(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return M(ee(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function N(e,t,n){if(e==null)return e;var r=[],i=0;return M(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function te(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ne={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=ne,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:te}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,P)}catch(e){P(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),be=n(((e,t)=>{t.exports=ye()})),xe=n((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Se=n(((e,t)=>{t.exports=xe()})),z=be(),B=(0,z.createContext)({});function V(e){let t=(0,z.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Ce=typeof window<`u`,we=Ce?z.useLayoutEffect:z.useEffect,H=(0,z.createContext)(null),U=(0,z.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function Te(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function Ee(...e){return t=>{let n=!1,r=e.map(e=>{let r=Te(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():Te(e[t],null)}}}}function De(...e){return z.useCallback(Ee(...e),e)}var W=Se(),Oe=class extends z.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){let e=t.offsetParent,n=f(e)&&e.offsetWidth||0,r=f(e)&&e.offsetHeight||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left,i.bottom=r-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}};function ke({children:e,isPresent:t,anchorX:n,anchorY:r,root:i,pop:a}){var o,s;let c=(0,z.useId)(),l=(0,z.useRef)(null),u=(0,z.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=(0,z.useContext)(U),f=De(l,(o=(s=e.props)==null?void 0:s.ref)==null?e==null?void 0:e.ref:o);return(0,z.useInsertionEffect)(()=>{let{width:e,height:o,top:s,left:f,right:p,bottom:m}=u.current;if(t||a===!1||!l.current||!e||!o)return;let h=n===`left`?`left: ${f}`:`right: ${p}`,g=r===`bottom`?`bottom: ${m}`:`top: ${s}`;l.current.dataset.motionPopId=c;let _=document.createElement(`style`);d&&(_.nonce=d);let v=i==null?document.head:i;return v.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            ${h}px !important;
            ${g}px !important;
          }
        `),()=>{v.contains(_)&&v.removeChild(_)}},[t]),(0,W.jsx)(Oe,{isPresent:t,childRef:l,sizeRef:u,pop:a,children:a===!1?e:z.cloneElement(e,{ref:f})})}var Ae=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,anchorY:c,root:l})=>{let d=V(je),f=(0,z.useId)(),p=!0,m=(0,z.useMemo)(()=>(p=!1,{id:f,initial:t,isPresent:n,custom:i,onExitComplete:e=>{d.set(e,!0);for(let e of d.values())if(!e)return;r&&r()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[n,d,r]);return a&&p&&(m=u({},m)),(0,z.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[n]),z.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),e=(0,W.jsx)(ke,{pop:o===`popLayout`,isPresent:n,anchorX:s,anchorY:c,root:l,children:e}),(0,W.jsx)(H.Provider,{value:m,children:e})};function je(){return new Map}function Me(e=!0){let t=(0,z.useContext)(H);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,z.useId)();(0,z.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,z.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var G=e=>e.key||``;function Ne(e){let t=[];return z.Children.forEach(e,e=>{(0,z.isValidElement)(e)&&t.push(e)}),t}var Pe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a=`sync`,propagate:o=!1,anchorX:s=`left`,anchorY:c=`top`,root:l})=>{let[u,d]=Me(o),f=(0,z.useMemo)(()=>Ne(e),[e]),p=o&&!u?[]:f.map(G),m=(0,z.useRef)(!0),h=(0,z.useRef)(f),g=V(()=>new Map),_=(0,z.useRef)(new Set),[v,y]=(0,z.useState)(f),[b,x]=(0,z.useState)(f);we(()=>{m.current=!1,h.current=f;for(let e=0;e<b.length;e++){let t=G(b[e]);p.includes(t)?(g.delete(t),_.current.delete(t)):g.get(t)!==!0&&g.set(t,!1)}},[b,p.length,p.join(`-`)]);let S=[];if(f!==v){let e=[...f];for(let t=0;t<b.length;t++){let n=b[t],r=G(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return a===`wait`&&S.length&&(e=S),x(Ne(e)),y(f),null}let{forceRender:C}=(0,z.useContext)(B);return(0,W.jsx)(W.Fragment,{children:b.map(e=>{let v=G(e),y=o&&!u?!1:f===b||p.includes(v);return(0,W.jsx)(Ae,{isPresent:y,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:y?void 0:()=>{if(_.current.has(v))return;if(_.current.add(v),g.has(v))g.set(v,!0);else return;let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(C==null||C(),x(h.current),o&&(d==null||d()),r&&r())},anchorX:s,anchorY:c,children:e},v)})})},Fe=(0,z.createContext)({strict:!1}),Ie={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},Le=!1;function Re(){if(Le)return;let e={};for(let t in Ie)e[t]={isEnabled:e=>Ie[t].some(t=>!!e[t])};o(e),Le=!0}function ze(){return Re(),S()}function Be(e){let t=ze();for(let n in e)t[n]=u(u({},t[n]),e[n]);o(t)}var Ve=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.propagate.ignoreStrict.viewport`.split(`.`));function K(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||Ve.has(e)}var He=e=>!K(e);function Ue(e){typeof e==`function`&&(He=t=>t.startsWith(`on`)?!K(t):e(t))}try{Ue((le(),t(fe)).default)}catch(e){}function We(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(He(i)||n===!0&&K(i)||!t&&!K(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var q=(0,z.createContext)({});function Ge(e,t){if(ge(e)){let{initial:t,animate:n}=e;return{initial:t===!1||c(t)?t:void 0,animate:c(n)?n:void 0}}return e.inherit===!1?{}:t}function Ke(e){let{initial:t,animate:n}=Ge(e,(0,z.useContext)(q));return(0,z.useMemo)(()=>({initial:t,animate:n}),[qe(t),qe(n)])}function qe(e){return Array.isArray(e)?e.join(` `):e}var J=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Je(e,t,n){for(let r in t)!ve(t[r])&&!ne(r,n)&&(e[r]=t[r])}function Ye({transformTemplate:e},t){return(0,z.useMemo)(()=>{let n=J();return A(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Xe(e,t){let n=e.style||{},r={};return Je(r,n,e),Object.assign(r,Ye(e,t)),r}function Ze(e,t){let n={},r=Xe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var Qe=()=>u(u({},J()),{},{attrs:{}});function $e(e,t,n,r){let i=(0,z.useMemo)(()=>{let n=Qe();return ue(n,t,P(r),e.transformTemplate,e.style),u(u({},n.attrs),{},{style:u({},n.style)})},[t]);if(e.style){let t={};Je(t,e.style,e),i.style=u(u({},t),i.style)}return i}var et=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function Y(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(et.indexOf(e)>-1||/[A-Z]/u.test(e))}function tt(e,t,n,{latestValues:r},i,a=!1,o){let s=((o==null?Y(e):o)?$e:Ze)(t,r,i,e),c=We(t,typeof e==`string`,a),l=e===z.Fragment?{}:u(u(u({},c),s),{},{ref:n}),{children:d}=t,f=(0,z.useMemo)(()=>ve(d)?d.get():d,[d]);return(0,z.createElement)(e,u(u({},l),{},{children:f}))}var nt=[`transitionEnd`,`transition`];function rt({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:it(n,r,i,e),renderState:t()}}function it(e,t,n,r){let i={},o=r(e,{});for(let e in o)i[e]=j(o[e]);let{initial:c,animate:l}=e,u=ge(e),f=C(e);t&&f&&!u&&e.inherit!==!1&&(c===void 0&&(c=t.initial),l===void 0&&(l=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;let m=p?l:c;if(m&&typeof m!=`boolean`&&!s(m)){let t=Array.isArray(m)?m:[m];for(let n=0;n<t.length;n++){let r=a(e,t[n]);if(r){let{transitionEnd:e,transition:t}=r,n=d(r,nt);for(let e in n){let t=n[e];if(Array.isArray(t)){let e=p?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var at=e=>(t,n)=>{let r=(0,z.useContext)(q),i=(0,z.useContext)(H),a=()=>rt(e,t,r,i);return n?a():V(a)},ot=at({scrapeMotionValuesFromProps:re,createRenderState:J}),st=at({scrapeMotionValuesFromProps:N,createRenderState:Qe}),ct=Symbol.for(`motionComponentSymbol`);function lt(e,t,n){let r=(0,z.useRef)(n);(0,z.useInsertionEffect)(()=>{r.current=n});let i=(0,z.useRef)(null);return(0,z.useCallback)(n=>{if(n){var a;(a=e.onMount)==null||a.call(e,n)}t&&(n?t.mount(n):t.unmount());let o=r.current;if(typeof o==`function`)if(n){let e=o(n);typeof e==`function`&&(i.current=e)}else i.current?(i.current(),i.current=null):o(n);else o&&(o.current=n)},[t])}var ut=(0,z.createContext)({});function X(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function dt(e,t,n,r,i,a){var o,s,c,l;let{visualElement:u}=(0,z.useContext)(q),d=(0,z.useContext)(Fe),f=(0,z.useContext)(H),p=(0,z.useContext)(U),m=p.reducedMotion,g=p.skipAnimations,_=(0,z.useRef)(null),v=(0,z.useRef)(!1);r=r||d.renderer,!_.current&&r&&(_.current=r(e,{visualState:t,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,skipAnimations:g,isSVG:a}),v.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));let y=_.current,b=(0,z.useContext)(ut);y&&!y.projection&&i&&(y.type===`html`||y.type===`svg`)&&ft(_.current,n,i,b);let x=(0,z.useRef)(!1);(0,z.useInsertionEffect)(()=>{y&&x.current&&y.update(n,f)});let S=n[h],C=(0,z.useRef)(!!S&&!((o=(s=window).MotionHandoffIsComplete)!=null&&o.call(s,S))&&((c=(l=window).MotionHasOptimisedAnimation)==null?void 0:c.call(l,S)));return we(()=>{v.current=!0,y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),(0,z.useEffect)(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var e,t;(e=(t=window).MotionHandoffMarkAsComplete)==null||e.call(t,S)}),C.current=!1),y.enteringChildren=void 0)}),y}function ft(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:pt(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&X(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function pt(e){if(e)return e.options.allowProjection===!1?pt(e.parent):e.projection}function mt(e,{forwardMotionProps:t=!1,type:n}={},r,i){var a,o;r&&Be(r);let s=n?n===`svg`:Y(e),c=s?st:ot;function l(n,a){let o,l=u(u(u({},(0,z.useContext)(U)),n),{},{layoutId:ht(n)}),{isStatic:d}=l,f=Ke(n),p=c(n,d);if(!d&&Ce){gt(l,r);let t=_t(l);o=t.MeasureLayout,f.visualElement=dt(e,p,l,i,t.ProjectionNode,s)}return(0,W.jsxs)(q.Provider,{value:f,children:[o&&f.visualElement?(0,W.jsx)(o,u({visualElement:f.visualElement},l)):null,tt(e,n,lt(p,f.visualElement,a),p,d,t,s)]})}l.displayName=`motion.${typeof e==`string`?e:`create(${(a=(o=e.displayName)==null?e.name:o)==null?``:a})`}`;let d=(0,z.forwardRef)(l);return d[ct]=e,d}function ht({layoutId:e}){let t=(0,z.useContext)(B).id;return t&&e!==void 0?t+`-`+e:e}function gt(e,t){(0,z.useContext)(Fe).strict}function _t(e){let{drag:t,layout:n}=ze();if(!t&&!n)return{};let r=u(u({},t),n);return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vt(e,t){if(typeof Proxy>`u`)return mt;let n=new Map,r=(n,r)=>mt(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,mt(a,void 0,e,t)),n.get(a))})}var yt=(e,t)=>{var n;return((n=t.isSVG)==null?Y(e):n)?new me(t):new ce(t,{allowProjection:e!==z.Fragment})},bt=class extends R{constructor(e){super(e),e.animationState||(e.animationState=se(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();s(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},xt=0,St={animation:{Feature:bt},exit:{Feature:class extends R{constructor(){super(...arguments),this.id=xt++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Z(e){return{point:{x:e.pageX,y:e.pageY}}}var Ct=e=>t=>g(t)&&e(t,Z(t));function Q(e,t,n,r){return F(e,t,Ct(n),r)}var wt=({current:e})=>e?e.ownerDocument.defaultView:null,Tt=(e,t)=>Math.abs(e-t);function Et(e,t){let n=Tt(e.x,t.x),r=Tt(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}var Dt=new Set([`auto`,`scroll`]),Ot=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=jt(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=Et(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=p;this.history.push(u(u({},r),{},{timestamp:i}));let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=kt(t,this.transformPagePoint),I.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=jt(e.type===`pointercancel`?this.lastMoveEventInfo:kt(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!g(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let s=kt(Z(e),this.transformPagePoint),{point:c}=s,{timestamp:l}=p;this.history=[u(u({},c),{},{timestamp:l})];let{onSessionStart:d}=t;d&&d(e,jt(s,this.history)),this.removeListeners=b(Q(this.contextWindow,`pointermove`,this.handlePointerMove),Q(this.contextWindow,`pointerup`,this.handlePointerUp),Q(this.contextWindow,`pointercancel`,this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(Dt.has(e.overflowX)||Dt.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener(`scroll`,this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener(`scroll`,this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener(`scroll`,this.onElementScroll,{capture:!0}),window.removeEventListener(`scroll`,this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:r.x-t.x,y:r.y-t.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,r),I.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),m(this.updatePoint)}};function kt(e,t){return t?{point:t(e.point)}:e}function At(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jt({point:e},t){return{point:e,delta:At(e,Nt(t)),offset:At(e,Mt(t)),velocity:Pt(t,.1)}}function Mt(e){return e[0]}function Nt(e){return e[e.length-1]}function Pt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=Nt(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>D(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>D(t)*2&&(r=e[1]);let a=O(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ft(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?w(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?w(n,e,r.max):Math.min(e,n)),e}function It(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function Lt(e,{top:t,left:n,bottom:r,right:i}){return{x:It(e.x,n,i),y:It(e.y,t,r)}}function Rt(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function zt(e,t){return{x:Rt(e.x,t.x),y:Rt(e.y,t.y)}}function Bt(e,t){let n=.5,r=M(e),i=M(t);return i>r?n=k(t.min,t.max-r,e.min):r>i&&(n=k(e.min,e.max-i,t.min)),pe(0,1,n)}function Vt(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Ht=.35;function Ut(e=Ht){return e===!1?e=0:e===!0&&(e=Ht),{x:Wt(e,`left`,`right`),y:Wt(e,`top`,`bottom`)}}function Wt(e,t,n){return{min:Gt(e,t),max:Gt(e,n)}}function Gt(e,t){return typeof e==`number`?e:e[t]||0}var Kt=new WeakMap,qt=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=v(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{t&&this.snapToCursor(Z(e).point),this.stopAnimation()},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),L(e=>{let t=this.getAxisMotionValue(e).get()||0;if(E.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=M(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&I.update(()=>i(e,t),!1,!0),x(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Xt(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&I.update(()=>a(e,t),!1,!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:l}=this.getProps();this.panSession=new Ot(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:wt(this.visualElement),element:this.visualElement.current})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&I.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!$(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Ft(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;t&&X(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Lt(r.layoutBox,t):this.constraints=!1,this.elastic=Ut(n),i!==this.constraints&&!X(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&L(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=Vt(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!X(e))return!1;let n=e.current;te(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.",`drag-constraints-ref`);let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=he(n,r.root,this.visualElement.getTransformPagePoint()),a=zt(r.layout.layoutBox,i);if(t){let e=t(ee(a));this.hasMutatedConstraints=!!e,e&&(a=_e(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=L(o=>{if(!$(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,d=r?40:1e7,f=u(u({type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),c);return this.startAxisValueAnimation(o,f)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return x(this.visualElement,e),n.start(T(e,n,0,t,this.visualElement,!1))}stopAnimation(){L(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){L(t=>{let{drag:n}=this.getProps();if(!$(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-w(n,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!X(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};L(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=Bt({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),L(t=>{if(!$(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(w(i,a,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Kt.set(this.visualElement,this);let e=this.visualElement.current,t=Q(e,`pointerdown`,t=>{let{drag:n,dragListener:r=!0}=this.getProps(),i=t.target,a=i!==e&&ae(i);n&&r&&!a&&this.start(t)}),n,r=()=>{let{dragConstraints:t}=this.getProps();X(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||(n=Yt(e,t.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,a=i.addEventListener(`measure`,r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),I.read(r);let o=F(window,`resize`,()=>this.scalePositionWithinConstraints()),s=i.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(L(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Ht,dragMomentum:o=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o})}};function Jt(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Yt(e,t,n){let r=oe(e,Jt(n)),i=oe(t,Jt(n));return()=>{r(),i()}}function $(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Xt(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var Zt=class extends R{constructor(e){super(e),this.removeGroupControls=r,this.removeListeners=r,this.controls=new qt(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||r}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},Qt=e=>(t,n)=>{e&&I.update(()=>e(t,n),!1,!0)},$t=class extends R{constructor(){super(...arguments),this.removePointerDownListener=r}onPointerDown(e){this.session=new Ot(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wt(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qt(e),onStart:Qt(t),onMove:Qt(n),onEnd:(e,t)=>{delete this.session,r&&I.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Q(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},en=!1,tn=class extends z.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),en&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions(u(u({},i.options),{},{layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()}))),ie.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,e.layoutDependency!==t&&a.setOptions(u(u({},a.options),{},{layoutDependency:t})),en=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||I.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;en=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function nn(e){let[t,n]=Me(),r=(0,z.useContext)(B);return(0,W.jsx)(tn,u(u({},e),{},{layoutGroup:r,switchLayoutGroup:(0,z.useContext)(ut),isPresent:t,safeToRemove:n}))}var rn={pan:{Feature:$t},drag:{Feature:Zt,ProjectionNode:de,MeasureLayout:nn}};function an(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&I.postRender(()=>i(t,Z(t)))}var on=class extends R{mount(){let{current:e}=this.node;e&&(this.unmount=_(e,(e,t)=>(an(this.node,t,`Start`),e=>an(this.node,e,`End`))))}unmount(){}},sn=class extends R{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch(t){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=b(F(this.node.current,`focus`,()=>this.onFocus()),F(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function cn(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&I.postRender(()=>i(t,Z(t)))}var ln=class extends R{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=i(e,(e,t)=>(cn(this.node,t,`Start`),(e,{success:t})=>cn(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:t,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}},un=[`root`],dn=new WeakMap,fn=new WeakMap,pn=e=>{let t=dn.get(e.target);t&&t(e)},mn=e=>{e.forEach(pn)};function hn(e){let{root:t}=e,n=d(e,un),r=t||document;fn.has(r)||fn.set(r,{});let i=fn.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(mn,u({root:t},n))),i[a]}function gn(e,t,n){let r=hn(t);return dn.set(e,n),r.observe(e),()=>{dn.delete(e),r.unobserve(e)}}var _n={some:0,all:1},vn=class extends R{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:_n[r]};return gn(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(yn(e,t))&&this.startObserver()}unmount(){}};function yn({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var bn={inView:{Feature:vn},tap:{Feature:ln},focus:{Feature:sn},hover:{Feature:on}},xn={layout:{ProjectionNode:de,MeasureLayout:nn}},Sn=vt(u(u(u(u({},St),bn),rn),xn),yt);export{be as i,Pe as n,Se as r,Sn as t};